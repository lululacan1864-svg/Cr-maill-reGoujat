<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Invitation üéâ</title>
  <style>
    body {
      margin: 0;
      min-height: 100vh;
      min-width: 100vw;
      display: flex;
      justify-content: center;
      align-items: center;
      background: url('https://media.giphy.com/media/3o6Zt481isNVuQI1l6/giphy.gif') center center / cover no-repeat fixed;
      font-family: sans-serif;
      overflow: hidden;
      position: relative;
    }
    .parchemin-container {
      width: 60vw;
      max-width: 800px;
      height: 80vh;
      background: rgba(245, 229, 184, 0.93);
      border-radius: 20px;
      box-shadow: 0 10px 50px rgba(0,0,0,0.2);
      display: flex;
      justify-content: center;
      align-items: center;
      overflow: hidden;
      position: relative;
      border: 8px solid #d2b48c;
      background-image:
        repeating-linear-gradient(90deg, #efd8b2 0px, #f5e5b8 18px, #efd8b2 36px),
        repeating-linear-gradient(180deg, #efd8b2 0px, #e2c58b 12px, #efd8b2 24px);
      background-blend-mode: multiply;
    }
    .parchemin {
      width: 100%;
      height: 100%;
      border: none;
      border-radius: 10px;
      box-shadow: 0 5px 25px rgba(0,0,0,0.08);
      background: transparent;
      display: block;
      transform: scaleY(0);
      opacity: 0;
      animation: derouler 2.5s cubic-bezier(0.77,0,0.175,1) forwards;
      /* Animation qui simule un vrai d√©roulement vertical */
      transform-origin: top center;
    }
    @keyframes derouler {
      0% {
        transform: scaleY(0);
        opacity: 0;
      }
      15% {
        opacity: 1;
      }
      100% {
        transform: scaleY(1);
        opacity: 1;
      }
    }
    #confettis {
      position: absolute;
      left: 0; top: 0;
      width: 100vw; height: 100vh;
      pointer-events: none;
      z-index: 10;
      display: none;
    }
    #confettis.visible {
      display: block;
      animation: fadeIn 0.5s;
    }
    @keyframes fadeIn {
      from { opacity: 0;}
      to { opacity: 1; }
    }
  </style>
</head>
<body>
  <div class="parchemin-container">
    <embed id="pdf" src="invitation.pdf" type="application/pdf" class="parchemin">
    <canvas id="confettis"></canvas>
  </div>
  <script>
    // Confettis simples en canvas (aucune d√©pendance)
    function lancerConfettis() {
      const canvas = document.getElementById('confettis');
      canvas.classList.add('visible');
      const ctx = canvas.getContext('2d');
      const W = canvas.width = window.innerWidth;
      const H = canvas.height = window.innerHeight;
      const colors = ['#ff4e50','#f9d423','#1e90ff','#e1eec3','#ffb347','#f7cac9','#c8c8a9','#b5fffc','#a3d8f4','#f67280'];
      const confettis = [];
      const confettiCount = 75;
      for(let i=0; i<confettiCount; i++) {
        confettis.push({
          x: Math.random() * W,
          y: Math.random() * -H,
          r: 8 + Math.random()*8,  // rayon
          d: 8 + Math.random()*8,
          color: colors[Math.floor(Math.random()*colors.length)],
          tilt: Math.random()*10 - 5,
          tiltAngle: 0,
          tiltAngleIncremental: Math.random()*0.07 + 0.05,
          speed: 2 + Math.random()*2
        });
      }
      let animationFrame;
      function draw() {
        ctx.clearRect(0,0,W,H);
        confettis.forEach(c => {
          ctx.beginPath();
          ctx.lineWidth = c.d / 3;
          ctx.strokeStyle = c.color;
          ctx.moveTo(c.x + c.tilt + c.r/3, c.y);
          ctx.lineTo(c.x + c.tilt, c.y + c.r);
          ctx.stroke();
        });
        update();
        animationFrame = requestAnimationFrame(draw);
      }
      function update() {
        confettis.forEach(c => {
          c.y += c.speed;
          c.x += Math.sin(c.y * 0.02) * 2;
          c.tiltAngle += c.tiltAngleIncremental;
          c.tilt = Math.sin(c.tiltAngle) * 12;
          if (c.y > H) {
            c.y = -10;
            c.x = Math.random() * W;
            c.tilt = Math.random()*10 - 5;
          }
        });
      }
      draw();
      // Arr√™te les confettis apr√®s 4 secondes
      setTimeout(() => {
        cancelAnimationFrame(animationFrame);
        ctx.clearRect(0,0,W,H);
        canvas.classList.remove('visible');
      }, 4000);
    }

    // Lance les confettis apr√®s l'animation du parchemin
    window.addEventListener('DOMContentLoaded', function() {
      setTimeout(() => {
        lancerConfettis();
      }, 2500); // confettis apr√®s l'animation du d√©roulement (2.5s)
    });
  </script>
</body>
</html>
