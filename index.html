<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Invitation ðŸŽ‰</title>
  <style>
    body {
      margin: 0;
      min-height: 100vh;
      min-width: 100vw;
      display: flex;
      justify-content: center;
      align-items: center;
      background: url('https://i.gifer.com/7VE.gif') center center / cover no-repeat fixed;
      font-family: 'Cormorant Garamond', serif;
      overflow: hidden;
      position: relative;
    }
    .parchemin-container {
      width: 55vw;
      max-width: 700px;
      min-width: 320px;
      height: 90vh;
      min-height: 340px;
      background: 
        linear-gradient(135deg, #f6e7c1 70%, #e2d1b3 100%),
        url('https://www.transparenttextures.com/patterns/paper-fibers.png');
      border-radius: 40px 40px 35px 35px / 70px 70px 45px 45px;
      box-shadow: 0 14px 50px 10px rgba(80,40,10,0.16), 0 0 0 14px #e5c194;
      border: 8px double #b89c60;
      border-top: 16px solid #ab8145;
      border-bottom: 18px solid #ab8145;
      display: flex;
      justify-content: center;
      align-items: center;
      overflow: hidden;
      position: relative;
    }
    .parchemin-img {
      width: 95%;
      max-width: 95%;
      max-height: 85vh;
      object-fit: contain;
      object-position: top center;
      border-radius: 16px 16px 20px 20px;
      box-shadow: 0 4px 30px 1px rgba(80,40,10,0.09);
      background: transparent;
      transform: scaleY(0);
      opacity: 0;
      animation: derouler 2.7s cubic-bezier(0.77,0,0.175,1) forwards;
      transform-origin: top center;
      transition: box-shadow 1s;
    }
    .parchemin-img.visible {
      box-shadow: 0 16px 40px 4px rgba(150,110,50,0.14),0 2px 16px #d0b888;
    }
    @keyframes derouler {
      0% {
        transform: scaleY(0);
        opacity: 0;
      }
      15% {
        opacity: 1;
      }
      100% {
        transform: scaleY(1);
        opacity: 1;
      }
    }
    #confettis {
      position: absolute;
      left: 0; top: 0;
      width: 100vw; height: 100vh;
      pointer-events: none;
      z-index: 10;
      display: none;
    }
    #confettis.visible {
      display: block;
      animation: fadeIn 0.5s;
    }
    @keyframes fadeIn {
      from { opacity: 0;}
      to { opacity: 1; }
    }
  </style>
  <!-- Police Ã©lÃ©gante pour l'ambiance -->
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
  <div class="parchemin-container">
    <!-- Mets ton image convertie du PDF ici : invitation.png ou invitation.jpg -->
    <img id="parchemin" src="invitation.png" alt="Invitation" class="parchemin-img">
    <canvas id="confettis"></canvas>
  </div>
  <script>
    // Affiche l'image dÃ©roulÃ©e puis confettis
    window.addEventListener('DOMContentLoaded', function() {
      setTimeout(() => {
        document.getElementById('parchemin').classList.add('visible');
      }, 200); // petit dÃ©lai avant l'ouverture

      setTimeout(() => {
        lancerConfettis();
      }, 2700); // confettis aprÃ¨s l'animation du dÃ©roulement (2.7s)
    });

    // Confettis simples en canvas (aucune dÃ©pendance)
    function lancerConfettis() {
      const canvas = document.getElementById('confettis');
      canvas.classList.add('visible');
      const ctx = canvas.getContext('2d');
      const W = canvas.width = window.innerWidth;
      const H = canvas.height = window.innerHeight;
      const colors = ['#ff4e50','#f9d423','#1e90ff','#e1eec3','#ffb347','#f7cac9','#c8c8a9','#b5fffc','#a3d8f4','#f67280'];
      const confettis = [];
      const confettiCount = 75;
      for(let i=0; i<confettiCount; i++) {
        confettis.push({
          x: Math.random() * W,
          y: Math.random() * -H,
          r: 8 + Math.random()*8,
          d: 8 + Math.random()*8,
          color: colors[Math.floor(Math.random()*colors.length)],
          tilt: Math.random()*10 - 5,
          tiltAngle: 0,
          tiltAngleIncremental: Math.random()*0.07 + 0.05,
          speed: 2 + Math.random()*2
        });
      }
      let animationFrame;
      function draw() {
        ctx.clearRect(0,0,W,H);
        confettis.forEach(c => {
          ctx.beginPath();
          ctx.lineWidth = c.d / 3;
          ctx.strokeStyle = c.color;
          ctx.moveTo(c.x + c.tilt + c.r/3, c.y);
          ctx.lineTo(c.x + c.tilt, c.y + c.r);
          ctx.stroke();
        });
        update();
        animationFrame = requestAnimationFrame(draw);
      }
      function update() {
        confettis.forEach(c => {
          c.y += c.speed;
          c.x += Math.sin(c.y * 0.02) * 2;
          c.tiltAngle += c.tiltAngleIncremental;
          c.tilt = Math.sin(c.tiltAngle) * 12;
          if (c.y > H) {
            c.y = -10;
            c.x = Math.random() * W;
            c.tilt = Math.random()*10 - 5;
          }
        });
      }
      draw();
      setTimeout(() => {
        cancelAnimationFrame(animationFrame);
        ctx.clearRect(0,0,W,H);
        canvas.classList.remove('visible');
      }, 4000);
    }
  </script>
</body>
</html>
